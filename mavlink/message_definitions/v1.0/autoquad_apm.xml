<?xml version='1.0'?>
<mavlink>
	<include>common.xml</include>
	<version>3</version>
	<enums>
		<enum name="AUTOQUAD_NAV_STATUS">
			<description>Available operating modes/statuses for AutoQuad flight controller. 
				Bitmask up to 32 bits. Low side bits for base modes, high side for 
				additional active features/modifiers/constraints.</description>
			<entry value="0" name="AQ_NAV_STATUS_INIT">
				<description>System is initializing</description>
			</entry>
			<!-- low side basic mode bits -->
			<entry value="0x1" name="AQ_NAV_STATUS_STANDBY">
				<description>System is standing by, not active</description>
			</entry>
			<entry value="0x2" name="AQ_NAV_STATUS_MANUAL">
				<description>Stabilized, under full manual control</description>
			</entry>
			<entry value="0x4" name="AQ_NAV_STATUS_ALTHOLD">
				<description>Altitude hold engaged</description>
			</entry>
			<entry value="0x8" name="AQ_NAV_STATUS_POSHOLD">
				<description>Position hold engaged</description>
			</entry>
			<entry value="0x10" name="AQ_NAV_STATUS_DVH">
				<description>Dynamic Velocity Hold is active</description>
			</entry>
			<entry value="0x20" name="AQ_NAV_STATUS_MISSION">
				<description>Autonomous mission execution mode</description>
			</entry>
			
			<!-- high side feature/modifier/constraint bits (0x8000 0000 = bit 32) -->
			<entry value="0x80000000" name="AQ_NAV_STATUS_FAILSAFE">
				<description>System is in failsafe recovery mode</description>
			</entry>
			<entry value="0x40000000" name="AQ_NAV_STATUS_RTH">
				<description>Automatic Return to Home is active</description>
			</entry>
			<entry value="0x20000000" name="AQ_NAV_STATUS_HF_LOCKED">
				<description>Heading-Free locked mode active</description>
			</entry>
			<entry value="0x10000000" name="AQ_NAV_STATUS_HF_DYNAMIC">
				<description>Heading-Free dynamic mode active</description>
			</entry>
			<entry value="0x8000000" name="AQ_NAV_STATUS_CEILING">
				<description>Ceiling altitude is set</description>
			</entry>
			<entry value="0x4000000" name="AQ_NAV_STATUS_CEILING_REACHED">
				<description>Craft is at ceiling altitude</description>
			</entry>
		</enum>
		<enum name="MAV_CMD">
			<!-- TODO: value 1 reserved for now due to legacy code -->
			<entry value="2" name="MAV_CMD_AQ_TELEMETRY">
			    <description>Start/stop AutoQuad telemetry values stream.</description>
			    <param index="1">Start or stop (1 or 0)</param>
			    <param index="2">Stream frequency in us</param>
			    <param index="3">Dataset ID (refer to aq_mavlink.h::mavlinkCustomDataSets enum in AQ flight controller code)</param>
			    <param index="4">Empty</param>
			    <param index="5">Empty</param>
			    <param index="6">Empty</param>
			    <param index="7">Empty</param>
			</entry>
			<entry value="3" name="MAV_CMD_AQ_FOLLOW">
			    <description>Command AutoQuad to go to a particular place at a set speed.</description>
			    <param index="1">Latitude</param>
			    <param index="2">Lontitude</param>
			    <param index="3">Altitude</param>
			    <param index="4">Speed</param>
			    <param index="5">Empty</param>
			    <param index="6">Empty</param>
			    <param index="7">Empty</param>
			</entry>
			<entry value="4" name="MAV_CMD_AQ_REQUEST_VERSION">
			    <description>Request AutoQuad firmware version number.</description>
			    <param index="1">Empty</param>
			    <param index="2">Empty</param>
			    <param index="3">Empty</param>
			    <param index="4">Empty</param>
			    <param index="5">Empty</param>
			    <param index="6">Empty</param>
			    <param index="7">Empty</param>
			</entry>
			
			<entry name="MAV_CMD_DO_MOTOR_TEST" value="209">
			  <description>Mission command to perform motor test</description>
			  <param index="1">motor sequence number (a number from 1 to max number of motors on the vehicle)</param>
			  <param index="2">throttle type (0=throttle percentage, 1=PWM, 2=pilot throttle channel pass-through. See MOTOR_TEST_THROTTLE_TYPE enum)</param>
			  <param index="3">throttle</param>
			  <param index="4">timeout (in seconds)</param>
			  <param index="5">Empty</param>
			  <param index="6">Empty</param>
			  <param index="7">Empty</param>
			</entry>
			<entry name="MAV_CMD_DO_GRIPPER" value="211">
			  <description>Mission command to operate EPM gripper</description>
			  <param index="1">gripper number (a number from 1 to max number of grippers on the vehicle)</param>
			  <param index="2">gripper action (0=release, 1=grab. See GRIPPER_ACTIONS enum)</param>
			  <param index="3">Empty</param>
			  <param index="4">Empty</param>
			  <param index="5">Empty</param>
			  <param index="6">Empty</param>
			  <param index="7">Empty</param>
			</entry>
			<entry name="MAV_CMD_POWER_OFF_INITIATED" value="42000">
				<description>A system wide power-off event has been initiated.</description>
				<param index="1">Empty</param>
				<param index="2">Empty</param>
				<param index="3">Empty</param>
				<param index="4">Empty</param>
				<param index="5">Empty</param>
				<param index="6">Empty</param>
				<param index="7">Empty</param>
			</entry>
			<entry name="MAV_CMD_SOLO_BTN_FLY_CLICK" value="42001">
				<description>FLY button has been clicked.</description>
				<param index="1">Empty</param>
				<param index="2">Empty</param>
				<param index="3">Empty</param>
				<param index="4">Empty</param>
				<param index="5">Empty</param>
				<param index="6">Empty</param>
				<param index="7">Empty</param>
			</entry>
			<entry name="MAV_CMD_SOLO_BTN_FLY_HOLD" value="42002">
				<description>FLY button has been held for 1.5 seconds.</description>
				<param index="1">Takeoff altitude</param>
				<param index="2">Empty</param>
				<param index="3">Empty</param>
				<param index="4">Empty</param>
				<param index="5">Empty</param>
				<param index="6">Empty</param>
				<param index="7">Empty</param>
			</entry>
			<entry name="MAV_CMD_SOLO_BTN_PAUSE_CLICK" value="42003">
				<description>PAUSE button has been clicked.</description>
				<param index="1">1 if Solo is in a shot mode, 0 otherwise</param>
				<param index="2">Empty</param>
				<param index="3">Empty</param>
				<param index="4">Empty</param>
				<param index="5">Empty</param>
				<param index="6">Empty</param>
				<param index="7">Empty</param>
			</entry>
			<entry name="MAV_CMD_DO_START_MAG_CAL" value="42424">
				<description>Initiate a magnetometer calibration</description>
				<param index="1">uint8_t bitmask of magnetometers (0 means all)</param>
				<param index="2">Automatically retry on failure (0=no retry, 1=retry).</param>
				<param index="3">Save without user input (0=require input, 1=autosave).</param>
				<param index="4">Delay (seconds)</param>
				<param index="5">Empty</param>
				<param index="6">Empty</param>
				<param index="7">Empty</param>
			</entry>
			<entry name="MAV_CMD_DO_ACCEPT_MAG_CAL" value="42425">
				<description>Initiate a magnetometer calibration</description>
				<param index="1">uint8_t bitmask of magnetometers (0 means all)</param>
				<param index="2">Empty</param>
				<param index="3">Empty</param>
				<param index="4">Empty</param>
				<param index="5">Empty</param>
				<param index="6">Empty</param>
				<param index="7">Empty</param>
			</entry>
			<entry name="MAV_CMD_DO_CANCEL_MAG_CAL" value="42426">
				<description>Cancel a running magnetometer calibration</description>
				<param index="1">uint8_t bitmask of magnetometers (0 means all)</param>
				<param index="2">Empty</param>
				<param index="3">Empty</param>
				<param index="4">Empty</param>
				<param index="5">Empty</param>
				<param index="6">Empty</param>
				<param index="7">Empty</param>
			</entry>
			<entry name="MAV_CMD_DO_SEND_BANNER" value="42428">
				<description>Reply with the version banner</description>
				<param index="1">Empty</param>
				<param index="2">Empty</param>
				<param index="3">Empty</param>
				<param index="4">Empty</param>
				<param index="5">Empty</param>
				<param index="6">Empty</param>
				<param index="7">Empty</param>
			</entry>
			<entry value="42501" name="MAV_CMD_GIMBAL_RESET">
				<description>Causes the gimbal to reset and boot as if it was just powered on</description>
				<param index="1">Empty</param>
				<param index="2">Empty</param>
				<param index="3">Empty</param>
				<param index="4">Empty</param>
				<param index="5">Empty</param>
				<param index="6">Empty</param>
				<param index="7">Empty</param>
			</entry>
			<entry name="MAV_CMD_SET_FACTORY_TEST_MODE" value="42427">
				<description>Command autopilot to get into factory test/diagnostic mode</description>
				<param index="1">0 means get out of test mode, 1 means get into test mode</param>
				<param index="2">Empty</param>
				<param index="3">Empty</param>
				<param index="4">Empty</param>
				<param index="5">Empty</param>
				<param index="6">Empty</param>
				<param index="7">Empty</param>
			</entry>
			<entry value="42502" name="MAV_CMD_GIMBAL_AXIS_CALIBRATION_STATUS">
				<description> Reports progress and success or failure of gimbal axis calibration procedure</description>
				<param index="1">Gimbal axis we're reporting calibration progress for</param>
				<param index="2">Current calibration progress for this axis, 0x64=100%</param>
				<param index="3">Status of the calibration</param>
				<param index="4">Empty</param>
				<param index="5">Empty</param>
				<param index="6">Empty</param>
				<param index="7">Empty</param>
			</entry>
			<entry value="42503" name="MAV_CMD_GIMBAL_REQUEST_AXIS_CALIBRATION">
				<description>  Starts commutation calibration on the gimbal </description>
				<param index="1">Empty</param>
				<param index="2">Empty</param>
				<param index="3">Empty</param>
				<param index="4">Empty</param>
				<param index="5">Empty</param>
				<param index="6">Empty</param>
				<param index="7">Empty</param>
			</entry>
			<entry value="42505" name="MAV_CMD_GIMBAL_FULL_RESET">
				<description>  Erases gimbal application and parameters </description>
				<param index="1">Magic number</param>
				<param index="2">Magic number</param>
				<param index="3">Magic number</param>
				<param index="4">Magic number</param>
				<param index="5">Magic number</param>
				<param index="6">Magic number</param>
				<param index="7">Magic number</param>
			</entry>
			
		</enum>
		<enum name="MAV_DATA_STREAM">
			<entry value="13" name="MAV_DATA_STREAM_PROPULSION">
				<description>Motor/ESC telemetry data.</description>
			</entry>
		</enum>
		
	</enums>
	<messages>
		<message id="150" name="AQ_TELEMETRY_F">
			<description>Sends up to 20 raw float values.</description>
			<field type="uint16_t" name="Index">Index of message</field>
			<field type="float" name="value1">value1</field>
			<field type="float" name="value2">value2</field>
			<field type="float" name="value3">value3</field>
			<field type="float" name="value4">value4</field>
			<field type="float" name="value5">value5</field>
			<field type="float" name="value6">value6</field>
			<field type="float" name="value7">value7</field>
			<field type="float" name="value8">value8</field>
			<field type="float" name="value9">value9</field>
			<field type="float" name="value10">value10</field>
			<field type="float" name="value11">value11</field>
			<field type="float" name="value12">value12</field>
			<field type="float" name="value13">value13</field>
			<field type="float" name="value14">value14</field>
			<field type="float" name="value15">value15</field>
			<field type="float" name="value16">value16</field>
			<field type="float" name="value17">value17</field>
			<field type="float" name="value18">value18</field>
			<field type="float" name="value19">value19</field>
			<field type="float" name="value20">value20</field>
		</message>
		<message id="151" name="EXTERN_GPS_POSITION">
			<description>Sends external GPS Position and 12 Parameter</description>
			<field type="uint16_t" name="index">Index of message</field>
			<field type="float" name="value01float">value1</field>
			<field type="float" name="value02float">value2</field>
			<field type="float" name="value03float">value3</field>
			<field type="float" name="value1float">value4</field>
			<field type="float" name="value2float">value5</field>
			<field type="float" name="value3float">value6</field>
			<field type="float" name="value4float">value7</field>
			<field type="float" name="value5float">value8</field>
			<field type="float" name="value6float">value9</field>
			<field type="float" name="value7float">value10</field>
			<field type="float" name="value8float">value11</field>
			<field type="float" name="value9float">value12</field>
			<field type="float" name="value10float">value13</field>
			<field type="float" name="value11float">value14</field>
			<field type="float" name="value12float">value15</field>
		</message>
		<message id="152" name="AQ_ESC_TELEMETRY">
			<description>Sends ESC32 telemetry data for up to 4 motors. Multiple messages may be sent in sequence when system has > 4 motors. Data is described as follows: 
				// unsigned int state :   3;
			    // unsigned int vin :	  12;  // x 100
			    // unsigned int amps :	  14;  // x 100
			    // unsigned int rpm :	  15;
			    // unsigned int duty :	  8;   // x (255/100)
			    // - Data Version 2 -
			    //     unsigned int errors :    9;   // Bad detects error count
			    // - Data Version 3 -
			    //     unsigned int temp   :    9;   // (Deg C + 32) * 4
			    // unsigned int errCode : 3;
			</description>
			<field type="uint32_t" name="time_boot_ms">Timestamp of the component clock since boot time in ms.</field>
			<field type="uint8_t" name="seq">Sequence number of message (first set of 4 motors is #1, next 4 is #2, etc).</field>
			<field type="uint8_t" name="num_motors">Total number of active ESCs/motors on the system.</field>
			<field type="uint8_t" name="num_in_seq">Number of active ESCs in this sequence (1 through this many array members will be populated with data)</field>
			<field type="uint8_t[4]" name="escid">ESC/Motor ID</field>
			<field type="uint16_t[4]" name="status_age">Age of each ESC telemetry reading in ms compared to boot time. A value of 0xFFFF means timeout/no data.</field>
			<field type="uint8_t[4]" name="data_version">Version of data structure (determines contents).</field>
			<field type="uint32_t[4]" name="data0">Data bits 1-32 for each ESC.</field>
			<field type="uint32_t[4]" name="data1">Data bits 33-64 for each ESC.</field>
		</message>
		<message id="153" name="CUSTOM_TRAJECTORY">
			<description>Message encoding a mission item. This message is emitted to announce
			the presence of a mission item and to set a mission item on the system. The mission item can be either in x, y, z meters (type: LOCAL) or x:lat, y:lon, z:altitude. Local frame is Z-down, right handed (NED), global frame is Z-up, right handed (ENU). See also http://qgroundcontrol.org/mavlink/waypoint_protocol.</description>
			<field type="uint8_t" name="target_system">System ID</field>
			<field type="uint8_t" name="target_component">Component ID</field>
			<field type="uint16_t" name="seq">Sequence</field>
			<field type="uint8_t" name="frame">The coordinate system of the MISSION. see MAV_FRAME in mavlink_types.h</field>
			<field type="uint16_t" name="command">The scheduled action for the MISSION. see MAV_CMD in common.xml MAVLink specs</field>
			<field type="uint8_t" name="current">false:0, true:1</field>
			<field type="uint8_t" name="autocontinue">autocontinue to next wp</field>
			<field type="float" name="param1">PARAM1, see MAV_CMD enum</field>
			<field type="float" name="param2">PARAM2, see MAV_CMD enum</field>
			<field type="float" name="param3">PARAM3, see MAV_CMD enum</field>
			<field type="float" name="param4">PARAM4, see MAV_CMD enum</field>
			<field type="float" name="x">PARAM5 / local: x position, global: latitude</field>
			<field type="float" name="y">PARAM6 / y position: global: longitude</field>
			<field type="float" name="z">PARAM7 / z position: global: altitude (relative or absolute, depending on frame.</field>
			<field type="float" name="sStart">value1</field>
			<field type="float" name="sEnd">value2</field>
			<field type="float" name="dsdt">value3</field>
			<field type="float" name="N">value4</field>
			<field type="float" name="E">value5</field>
			<field type="float" name="D">value6</field>
			<field type="float" name="y2N">value7</field>
			<field type="float" name="y2E">value8</field>
			<field type="float" name="y2D">value9</field>
		</message>

	<message id="226" name="SENSOR_OFFSETS">
	   <description>Offsets and calibrations values for hardware
	sensors. This makes it easier to debug the calibration process.</description>
	   <field type="int16_t" name="mag_ofs_x">magnetometer X offset</field>
	   <field type="int16_t" name="mag_ofs_y">magnetometer Y offset</field>
	   <field type="int16_t" name="mag_ofs_z">magnetometer Z offset</field>
	   <field type="float" name="mag_declination">magnetic declination (radians)</field>
	   <field type="int32_t" name="raw_press">raw pressure from barometer</field>
	   <field type="int32_t" name="raw_temp">raw temperature from barometer</field>
	   <field type="float" name="gyro_cal_x">gyro X calibration</field>
	   <field type="float" name="gyro_cal_y">gyro Y calibration</field>
	   <field type="float" name="gyro_cal_z">gyro Z calibration</field>
	   <field type="float" name="accel_cal_x">accel X calibration</field>
	   <field type="float" name="accel_cal_y">accel Y calibration</field>
	   <field type="float" name="accel_cal_z">accel Z calibration</field>
	</message>

	<message id="227" name="SET_MAG_OFFSETS">
	   <description>Deprecated. Use MAV_CMD_PREFLIGHT_SET_SENSOR_OFFSETS instead. Set the magnetometer offsets</description>
	   <field type="uint8_t" name="target_system">System ID</field>
	   <field type="uint8_t" name="target_component">Component ID</field>
	   <field type="int16_t" name="mag_ofs_x">magnetometer X offset</field>
	   <field type="int16_t" name="mag_ofs_y">magnetometer Y offset</field>
	   <field type="int16_t" name="mag_ofs_z">magnetometer Z offset</field>
	</message>

	<message id="228" name="MEMINFO">
	   <description>state of APM memory</description>
	   <field type="uint16_t" name="brkval">heap top</field>
	   <field type="uint16_t" name="freemem">free memory</field>
	</message>

	<message id="229" name="AP_ADC">
	   <description>raw ADC output</description>
	   <field type="uint16_t" name="adc1">ADC output 1</field>
	   <field type="uint16_t" name="adc2">ADC output 2</field>
	   <field type="uint16_t" name="adc3">ADC output 3</field>
	   <field type="uint16_t" name="adc4">ADC output 4</field>
	   <field type="uint16_t" name="adc5">ADC output 5</field>
	   <field type="uint16_t" name="adc6">ADC output 6</field>
	</message>

    <!-- Camera Controller Messages -->
    <message name="DIGICAM_CONFIGURE" id="154">
      <description>Configure on-board Camera Control System.</description>
      <field name="target_system" type="uint8_t">System ID</field>
      <field name="target_component" type="uint8_t">Component ID</field>
      <field name="mode" type="uint8_t">Mode enumeration from 1 to N //P, TV, AV, M, Etc (0 means ignore)</field>
      <field name="shutter_speed" type="uint16_t">Divisor number //e.g. 1000 means 1/1000 (0 means ignore)</field>
      <field name="aperture" type="uint8_t">F stop number x 10 //e.g. 28 means 2.8 (0 means ignore)</field>
      <field name="iso" type="uint8_t">ISO enumeration from 1 to N //e.g. 80, 100, 200, Etc (0 means ignore)</field>
      <field name="exposure_type" type="uint8_t">Exposure type enumeration from 1 to N (0 means ignore)</field>
      <field name="command_id" type="uint8_t">Command Identity (incremental loop: 0 to 255)//A command sent multiple times will be executed or pooled just once</field>
      <field name="engine_cut_off" type="uint8_t">Main engine cut-off time before camera trigger in seconds/10 (0 means no cut-off)</field>
      <field name="extra_param" type="uint8_t">Extra parameters enumeration (0 means ignore)</field>
      <field name="extra_value" type="float">Correspondent value to given extra_param</field>
    </message>

    <message name="DIGICAM_CONTROL" id="155">
      <description>Control on-board Camera Control System to take shots.</description>
      <field name="target_system" type="uint8_t">System ID</field>
      <field name="target_component" type="uint8_t">Component ID</field>
      <field name="session" type="uint8_t">0: stop, 1: start or keep it up //Session control e.g. show/hide lens</field>
      <field name="zoom_pos" type="uint8_t">1 to N //Zoom's absolute position (0 means ignore)</field>
      <field name="zoom_step" type="int8_t">-100 to 100 //Zooming step value to offset zoom from the current position</field>
      <field name="focus_lock" type="uint8_t">0: unlock focus or keep unlocked, 1: lock focus or keep locked, 3: re-lock focus</field>
      <field name="shot" type="uint8_t">0: ignore, 1: shot or start filming</field>
      <field name="command_id" type="uint8_t">Command Identity (incremental loop: 0 to 255)//A command sent multiple times will be executed or pooled just once</field>
      <field name="extra_param" type="uint8_t">Extra parameters enumeration (0 means ignore)</field>
      <field name="extra_value" type="float">Correspondent value to given extra_param</field>
    </message>

    <!-- Camera Mount Messages -->
    <message name="MOUNT_CONFIGURE" id="156">
      <description>Message to configure a camera mount, directional antenna, etc.</description>
      <field name="target_system" type="uint8_t">System ID</field>
      <field name="target_component" type="uint8_t">Component ID</field>
      <field name="mount_mode" type="uint8_t" enum="MAV_MOUNT_MODE">mount operating mode (see MAV_MOUNT_MODE enum)</field>
      <field name="stab_roll" type="uint8_t">(1 = yes, 0 = no)</field>
      <field name="stab_pitch" type="uint8_t">(1 = yes, 0 = no)</field>
      <field name="stab_yaw" type="uint8_t">(1 = yes, 0 = no)</field>
    </message>

    <message name="MOUNT_CONTROL" id="157">
      <description>Message to control a camera mount, directional antenna, etc.</description>
      <field name="target_system" type="uint8_t">System ID</field>
      <field name="target_component" type="uint8_t">Component ID</field>
      <field name="input_a" type="int32_t">pitch(deg*100) or lat, depending on mount mode</field>
      <field name="input_b" type="int32_t">roll(deg*100) or lon depending on mount mode</field>
      <field name="input_c" type="int32_t">yaw(deg*100) or alt (in cm) depending on mount mode</field>
      <field name="save_position" type="uint8_t">if "1" it will save current trimmed position on EEPROM (just valid for NEUTRAL and LANDING)</field>
    </message>

    <message name="MOUNT_STATUS" id="158">
      <description>Message with some status from APM to GCS about camera or antenna mount</description>
      <field name="target_system" type="uint8_t">System ID</field>
      <field name="target_component" type="uint8_t">Component ID</field>
      <field name="pointing_a" type="int32_t">pitch(deg*100)</field>
      <field name="pointing_b" type="int32_t">roll(deg*100)</field>
      <field name="pointing_c" type="int32_t">yaw(deg*100)</field>
    </message>

    <!-- geo-fence messages -->
    <message name="FENCE_POINT" id="160">
      <description>A fence point. Used to set a point when from
        GCS -> MAV. Also used to return a point from MAV -> GCS</description>
      <field name="target_system" type="uint8_t">System ID</field>
      <field name="target_component" type="uint8_t">Component ID</field>
      <field name="idx" type="uint8_t">point index (first point is 1, 0 is for return point)</field>
      <field name="count" type="uint8_t">total number of points (for sanity checking)</field>
      <field name="lat" type="float">Latitude of point</field>
      <field name="lng" type="float">Longitude of point</field>
    </message>

    <message name="FENCE_FETCH_POINT" id="161">
      <description>Request a current fence point from MAV</description>
      <field name="target_system" type="uint8_t">System ID</field>
      <field name="target_component" type="uint8_t">Component ID</field>
      <field name="idx" type="uint8_t">point index (first point is 1, 0 is for return point)</field>
    </message>

    <message name="FENCE_STATUS" id="162">
      <description>Status of geo-fencing. Sent in extended
      status stream when fencing enabled</description>
      <field name="breach_status" type="uint8_t">0 if currently inside fence, 1 if outside</field>
      <field name="breach_count" type="uint16_t">number of fence breaches</field>
      <field name="breach_type" type="uint8_t" enum="FENCE_BREACH">last breach type (see FENCE_BREACH_* enum)</field>
      <field name="breach_time" type="uint32_t">time of last breach in milliseconds since boot</field>
    </message>

    <message name="AHRS" id="163">
      <description>Status of DCM attitude estimator</description>
            <field type="float" name="omegaIx">X gyro drift estimate rad/s</field>
            <field type="float" name="omegaIy">Y gyro drift estimate rad/s</field>
            <field type="float" name="omegaIz">Z gyro drift estimate rad/s</field>
            <field type="float" name="accel_weight">average accel_weight</field>
            <field type="float" name="renorm_val">average renormalisation value</field>
            <field type="float" name="error_rp">average error_roll_pitch value</field>
            <field type="float" name="error_yaw">average error_yaw value</field>
    </message>

    <message name="SIMSTATE" id="164">
      <description>Status of simulation environment, if used</description>
            <field type="float" name="roll">Roll angle (rad)</field>
            <field type="float" name="pitch">Pitch angle (rad)</field>
            <field type="float" name="yaw">Yaw angle (rad)</field>
            <field type="float" name="xacc">X acceleration m/s/s</field>
            <field type="float" name="yacc">Y acceleration m/s/s</field>
            <field type="float" name="zacc">Z acceleration m/s/s</field>
            <field type="float" name="xgyro">Angular speed around X axis rad/s</field>
            <field type="float" name="ygyro">Angular speed around Y axis rad/s</field>
            <field type="float" name="zgyro">Angular speed around Z axis rad/s</field>
            <field type="int32_t" name="lat">Latitude in degrees * 1E7</field>
            <field type="int32_t" name="lng">Longitude in degrees * 1E7</field>
    </message>

    <message name="HWSTATUS" id="165">
      <description>Status of key hardware</description>
            <field type="uint16_t" name="Vcc">board voltage (mV)</field>
            <field type="uint8_t"  name="I2Cerr">I2C error count</field>
    </message>

    <message name="RADIO" id="166">
      <description>Status generated by radio</description>
            <field type="uint8_t" name="rssi">local signal strength</field>
            <field type="uint8_t" name="remrssi">remote signal strength</field>
      <field type="uint8_t" name="txbuf">how full the tx buffer is as a percentage</field>
            <field type="uint8_t" name="noise">background noise level</field>
            <field type="uint8_t" name="remnoise">remote background noise level</field>
      <field type="uint16_t" name="rxerrors">receive errors</field>
      <field type="uint16_t" name="fixed">count of error corrected packets</field>
    </message>

        <!--  AP_Limits status -->

    <message name="LIMITS_STATUS" id="167">
      <description>Status of AP_Limits. Sent in extended
      status stream when AP_Limits is enabled</description>
      <field name="limits_state" type="uint8_t" enum="LIMITS_STATE">state of AP_Limits, (see enum LimitState, LIMITS_STATE)</field>
      <field name="last_trigger" type="uint32_t">time of last breach in milliseconds since boot</field>
      <field name="last_action" type="uint32_t">time of last recovery action in milliseconds since boot</field>
      <field name="last_recovery" type="uint32_t">time of last successful recovery in milliseconds since boot</field>
      <field name="last_clear" type="uint32_t">time of last all-clear in milliseconds since boot</field>
      <field name="breach_count" type="uint16_t">number of fence breaches</field>
      <field name="mods_enabled" type="uint8_t">AP_Limit_Module bitfield of enabled modules, (see enum moduleid or LIMIT_MODULE)</field>
      <field name="mods_required" type="uint8_t">AP_Limit_Module bitfield of required modules, (see enum moduleid or LIMIT_MODULE)</field>
      <field name="mods_triggered" type="uint8_t">AP_Limit_Module bitfield of triggered modules, (see enum moduleid or LIMIT_MODULE)</field>
    </message>

    <message name="WIND" id="168">
      <description>Wind estimation</description>
            <field type="float" name="direction">wind direction that wind is coming from (degrees)</field>
            <field type="float" name="speed">wind speed in ground plane (m/s)</field>
            <field type="float" name="speed_z">vertical wind speed (m/s)</field>
    </message>

    <message name="DATA16" id="169">
      <description>Data packet, size 16</description>
      <field type="uint8_t" name="type">data type</field>
      <field type="uint8_t" name="len">data length</field>
      <field type="uint8_t[16]" name="data">raw data</field>
    </message>

    <message name="DATA32" id="170">
      <description>Data packet, size 32</description>
      <field type="uint8_t" name="type">data type</field>
      <field type="uint8_t" name="len">data length</field>
      <field type="uint8_t[32]" name="data">raw data</field>
    </message>

    <message name="DATA64" id="171">
      <description>Data packet, size 64</description>
      <field type="uint8_t" name="type">data type</field>
      <field type="uint8_t" name="len">data length</field>
      <field type="uint8_t[64]" name="data">raw data</field>
    </message>

    <message name="DATA96" id="172">
      <description>Data packet, size 96</description>
      <field type="uint8_t" name="type">data type</field>
      <field type="uint8_t" name="len">data length</field>
      <field type="uint8_t[96]" name="data">raw data</field>
    </message>

    <message name="RANGEFINDER" id="173">
      <description>Rangefinder reporting</description>
      <field type="float" name="distance">distance in meters</field>
      <field type="float" name="voltage">raw voltage if available, zero otherwise</field>
    </message>

    <message name="AIRSPEED_AUTOCAL" id="174">
            <description>Airspeed auto-calibration</description>
            <field type="float" name="vx">GPS velocity north m/s</field>
            <field type="float" name="vy">GPS velocity east m/s</field>
            <field type="float" name="vz">GPS velocity down m/s</field>
            <field type="float" name="diff_pressure">Differential pressure pascals</field>
            <field type="float" name="EAS2TAS">Estimated to true airspeed ratio</field>
            <field type="float" name="ratio">Airspeed ratio</field>
            <field type="float" name="state_x">EKF state x</field>
            <field type="float" name="state_y">EKF state y</field>
            <field type="float" name="state_z">EKF state z</field>
            <field type="float" name="Pax">EKF Pax</field>
            <field type="float" name="Pby">EKF Pby</field>
            <field type="float" name="Pcz">EKF Pcz</field>
          </message>

      <!-- rally point messages -->
    <message name="RALLY_POINT" id="175">
      <description>A rally point. Used to set a point when from GCS -> MAV. Also used to return a point from MAV -> GCS</description>
      <field name="target_system" type="uint8_t">System ID</field>
      <field name="target_component" type="uint8_t">Component ID</field>
      <field name="idx" type="uint8_t">point index (first point is 0)</field>
      <field name="count" type="uint8_t">total number of points (for sanity checking)</field>
      <field name="lat" type="int32_t">Latitude of point in degrees * 1E7</field>
            <field name="lng" type="int32_t">Longitude of point in degrees * 1E7</field>
            <field name="alt" type="int16_t">Transit / loiter altitude in meters relative to home</field>
            <!-- Path planned landings are still in the future, but we want these fields ready: -->
            <field name="break_alt" type="int16_t">Break altitude in meters relative to home</field>
            <field name="land_dir" type="uint16_t">Heading to aim for when landing. In centi-degrees.</field>
            <field name="flags" type="uint8_t">See RALLY_FLAGS enum for definition of the bitmask.</field>
    </message>

          <message name="RALLY_FETCH_POINT" id="176">
            <description>Request a current rally point from MAV. MAV should respond with a RALLY_POINT message. MAV should not respond if the request is invalid.</description>
            <field name="target_system" type="uint8_t">System ID</field>
            <field name="target_component" type="uint8_t">Component ID</field>
            <field name="idx" type="uint8_t">point index (first point is 0)</field>
          </message>

          <message name="COMPASSMOT_STATUS" id="177">
            <description>Status of compassmot calibration</description>
            <field name="throttle" type="uint16_t">throttle (percent*10)</field>
            <field name="current" type="float">current (amps)</field>
            <field name="interference" type="uint16_t">interference (percent)</field>
            <field name="CompensationX" type="float">Motor Compensation X</field>
            <field name="CompensationY" type="float">Motor Compensation Y</field>
            <field name="CompensationZ" type="float">Motor Compensation Z</field>
          </message>

<!-- Coming soon
      <message name="RALLY_LAND_POINT" id="177">
         <description>A rally landing point.  An aircraft loitering at a rally point may choose one of these points to land at.</description>
         <field name="target_system" type="uint8_t">System ID</field>
       <field name="target_component" type="uint8_t">Component ID</field>
       <field name="idx" type="uint8_t">point index (first point is 0)</field>
       <field name="count" type="uint8_t">total number of points (for sanity checking)</field>
       <field name="lat" type="int32_t">Latitude of point</field>
         <field name="lng" type="int32_t">Longitude of point</field>
         <field name="alt" type="uint16_t">Ground AGL (usually 0)</field>
     </message>

     <message name="RALLY_LAND_FETCH_POINT" id="178">
         <description>Request a current rally land point from MAV</description>
       <field name="target_system" type="uint8_t">System ID</field>
       <field name="target_component" type="uint8_t">Component ID</field>
       <field name="idx" type="uint8_t">point index (first point is 0)</field>
      </message>
-->

    <message name="AHRS2" id="178">
      <description>Status of secondary AHRS filter if available</description>
            <field type="float" name="roll">Roll angle (rad)</field>
            <field type="float" name="pitch">Pitch angle (rad)</field>
            <field type="float" name="yaw">Yaw angle (rad)</field>
            <field type="float" name="altitude">Altitude (MSL)</field>
            <field type="int32_t" name="lat">Latitude in degrees * 1E7</field>
            <field type="int32_t" name="lng">Longitude in degrees * 1E7</field>
    </message>

  <!-- camera event message from CCB to autopilot: for image trigger events but also things like heartbeat, error, low power, full card, etc -->
    <message name="CAMERA_STATUS" id="179">
        <description>Camera Event</description>
        <field name="time_usec" type="uint64_t">Image timestamp (microseconds since UNIX epoch, according to camera clock)</field>
        <field name="target_system" type="uint8_t" >System ID</field>   <!-- support multiple concurrent vehicles -->
        <field name="cam_idx"   type="uint8_t" >Camera ID</field>       <!-- component ID, to support multiple cameras -->
        <field name="img_idx"   type="uint16_t" >Image index</field>    <!-- per camera image index, should be unique+sequential within a mission, preferably non-wrapping -->
        <field name="event_id"  type="uint8_t" >See CAMERA_STATUS_TYPES enum for definition of the bitmask</field>
        <field name="p1"        type="float"   >Parameter 1 (meaning depends on event, see CAMERA_STATUS_TYPES enum)</field>
        <field name="p2"        type="float"   >Parameter 2 (meaning depends on event, see CAMERA_STATUS_TYPES enum)</field>
        <field name="p3"        type="float"   >Parameter 3 (meaning depends on event, see CAMERA_STATUS_TYPES enum)</field>
        <field name="p4"        type="float"   >Parameter 4 (meaning depends on event, see CAMERA_STATUS_TYPES enum)</field>
    </message>

    <!-- camera feedback message - can be originated from CCB (in response to a CAMERA_STATUS), or directly from the autopilot as part of a DO_DIGICAM_CONTROL-->
    <message name="CAMERA_FEEDBACK" id="180">
        <description>Camera Capture Feedback</description>
        <field name="time_usec" type="uint64_t">Image timestamp (microseconds since UNIX epoch), as passed in by CAMERA_STATUS message (or autopilot if no CCB)</field>
        <field name="target_system" type="uint8_t" >System ID</field>   <!-- support multiple concurrent vehicles -->
        <field name="cam_idx"   type="uint8_t" >Camera ID</field>       <!-- component ID, to support multiple cameras -->
        <field name="img_idx"   type="uint16_t">Image index</field>     <!-- per camera image index, should be unique+sequential within a mission, preferably non-wrapping -->
        <field name="lat"       type="int32_t" >Latitude in (deg * 1E7)</field>
        <field name="lng"       type="int32_t" >Longitude in (deg * 1E7)</field>
        <field name="alt_msl"   type="float"   >Altitude Absolute (meters AMSL)</field>
        <field name="alt_rel"   type="float"   >Altitude Relative (meters above HOME location)</field>
        <field name="roll"      type="float"   >Camera Roll angle (earth frame, degrees, +-180)</field>  <!-- initially only supporting fixed cameras, in future we'll need feedback messages from the gimbal so we can include that offset here -->
        <field name="pitch"     type="float"   >Camera Pitch angle (earth frame, degrees, +-180)</field> <!-- initially only supporting fixed cameras, in future we'll need feedback messages from the gimbal so we can include that offset here -->
        <field name="yaw"       type="float"   >Camera Yaw (earth frame, degrees, 0-360, true)</field>   <!-- initially only supporting fixed cameras, in future we'll need feedback messages from the gimbal so we can include that offset here -->
        <field name="foc_len"   type="float"   >Focal Length (mm)</field> <!-- per-image to support zooms. Zero means fixed focal length or unknown. Should be true mm, not scaled to 35mm film equivalent -->
        <field name="flags"     type="uint8_t" >See CAMERA_FEEDBACK_FLAGS enum for definition of the bitmask</field> <!-- future proofing -->
    </message>

    <message name="BATTERY2" id="181">
      <description>2nd Battery status</description>
      <field type="uint16_t" name="voltage">voltage in millivolts</field>
      <field type="int16_t" name="current_battery">Battery current, in 10*milliamperes (1 = 10 milliampere), -1: autopilot does not measure the current</field>
    </message>

    <message name="AHRS3" id="182">
      <description>Status of third AHRS filter if available. This is for ANU research group (Ali and Sean)</description>
      <field type="float" name="roll">Roll angle (rad)</field>
      <field type="float" name="pitch">Pitch angle (rad)</field>
      <field type="float" name="yaw">Yaw angle (rad)</field>
      <field type="float" name="altitude">Altitude (MSL)</field>
      <field type="int32_t" name="lat">Latitude in degrees * 1E7</field>
      <field type="int32_t" name="lng">Longitude in degrees * 1E7</field>
      <field type="float" name="v1">test variable1</field>
      <field type="float" name="v2">test variable2</field>
      <field type="float" name="v3">test variable3</field>
      <field type="float" name="v4">test variable4</field>
    </message>

    <message name="AUTOPILOT_VERSION_REQUEST" id="183">
        <description>Request the autopilot version from the system/component.</description>
        <field type="uint8_t" name="target_system">System ID</field>
        <field type="uint8_t" name="target_component">Component ID</field>
    </message>

    <!-- remote log messages -->
    <message id="184" name="REMOTE_LOG_DATA_BLOCK">
      <description>Send a block of log data to remote location</description>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="target_component">Component ID</field>
      <field type="uint32_t" name="seqno" enum="MAV_REMOTE_LOG_DATA_BLOCK_COMMANDS">log data block sequence number</field>
      <field type="uint8_t[200]" name="data">log data block</field>
    </message>

    <message id="185" name="REMOTE_LOG_BLOCK_STATUS">
      <description>Send Status of each log block that autopilot board might have sent</description>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="target_component">Component ID</field>
      <field type="uint32_t" name="seqno">log data block sequence number</field>
      <field type="uint8_t" name="status" enum="MAV_REMOTE_LOG_DATA_BLOCK_STATUSES">log data block status</field>
    </message>

    <message name="LED_CONTROL" id="186">
        <description>Control vehicle LEDs</description>
        <field type="uint8_t" name="target_system">System ID</field>
        <field type="uint8_t" name="target_component">Component ID</field>
        <field type="uint8_t" name="instance">Instance (LED instance to control or 255 for all LEDs)</field>
        <field type="uint8_t" name="pattern">Pattern (see LED_PATTERN_ENUM)</field>
        <field type="uint8_t" name="custom_len">Custom Byte Length</field>
        <field type="uint8_t[24]" name="custom_bytes">Custom Bytes</field>
    </message>

    <message name="MAG_CAL_PROGRESS" id="191">
        <description>Reports progress of compass calibration.</description>
        <field type="uint8_t" name="compass_id">Compass being calibrated</field>
        <field type="uint8_t" name="cal_mask">Bitmask of compasses being calibrated</field>
        <field type="uint8_t" name="cal_status">Status (see MAG_CAL_STATUS enum)</field>
        <field type="uint8_t" name="attempt">Attempt number</field>
        <field type="uint8_t" name="completion_pct">Completion percentage</field>
        <field type="uint8_t[10]" name="completion_mask">Bitmask of sphere sections (see http://en.wikipedia.org/wiki/Geodesic_grid)</field>
        <field type="float" name="direction_x">Body frame direction vector for display</field>
        <field type="float" name="direction_y">Body frame direction vector for display</field>
        <field type="float" name="direction_z">Body frame direction vector for display</field>
    </message>

    <message name="MAG_CAL_REPORT" id="192">
        <description>Reports results of completed compass calibration. Sent until MAG_CAL_ACK received.</description>
        <field type="uint8_t" name="compass_id">Compass being calibrated</field>
        <field type="uint8_t" name="cal_mask">Bitmask of compasses being calibrated</field>
        <field type="uint8_t" name="cal_status">Status (see MAG_CAL_STATUS enum)</field>
        <field type="uint8_t" name="autosaved">0=requires a MAV_CMD_DO_ACCEPT_MAG_CAL, 1=saved to parameters</field>
        <field type="float" name="fitness">RMS milligauss residuals</field>
        <field type="float" name="ofs_x">X offset</field>
        <field type="float" name="ofs_y">Y offset</field>
        <field type="float" name="ofs_z">Z offset</field>
        <field type="float" name="diag_x">X diagonal (matrix 11)</field>
        <field type="float" name="diag_y">Y diagonal (matrix 22)</field>
        <field type="float" name="diag_z">Z diagonal (matrix 33)</field>
        <field type="float" name="offdiag_x">X off-diagonal (matrix 12 and 21)</field>
        <field type="float" name="offdiag_y">Y off-diagonal (matrix 13 and 31)</field>
        <field type="float" name="offdiag_z">Z off-diagonal (matrix 32 and 23)</field>
    </message>

    <!-- EKF status message from autopilot to GCS.   -->
    <message name="EKF_STATUS_REPORT" id="193">
        <description>EKF Status message including flags and variances</description>
        <field name="flags" type="uint16_t">Flags</field>   <!-- supported flags see EKF_STATUS_FLAGS enum -->
        <field name="velocity_variance" type="float">Velocity variance</field>   <!-- below 0.5 is good, 0.5~0.79 is warning, 0.8 or higher is bad  -->
        <field name="pos_horiz_variance" type="float">Horizontal Position variance</field>
        <field name="pos_vert_variance" type="float">Vertical Position variance</field>
        <field name="compass_variance" type="float">Compass variance</field>
        <field name="terrain_alt_variance" type="float">Terrain Altitude variance</field>
    </message>

    <!-- realtime PID tuning message -->
    <message name="PID_TUNING" id="194">
        <description>PID tuning information</description>
        <field name="axis" type="uint8_t" enum="PID_TUNING_AXIS">axis</field>
        <field name="desired" type="float">desired rate (degrees/s)</field>
        <field name="achieved" type="float">achieved rate (degrees/s)</field>
        <field name="FF" type="float">FF component</field>
        <field name="P" type="float">P component</field>
        <field name="I" type="float">I component</field>
        <field name="D" type="float">D component</field>
    </message>

    <message name="GIMBAL_REPORT" id="200">
        <description>3 axis gimbal mesuraments</description>
        <field type="uint8_t" name="target_system">System ID</field>
        <field type="uint8_t" name="target_component">Component ID</field>
        <field type="float" name="delta_time">Time since last update (seconds)</field>
        <field type="float" name="delta_angle_x">Delta angle X (radians)</field>
        <field type="float" name="delta_angle_y">Delta angle Y (radians)</field>
        <field type="float" name="delta_angle_z">Delta angle X (radians)</field>
        <field type="float" name="delta_velocity_x">Delta velocity X (m/s)</field>
        <field type="float" name="delta_velocity_y">Delta velocity Y (m/s)</field>
        <field type="float" name="delta_velocity_z">Delta velocity Z (m/s)</field>
        <field type="float" name="joint_roll"> Joint ROLL (radians)</field>
        <field type="float" name="joint_el"> Joint EL (radians)</field>
        <field type="float" name="joint_az"> Joint AZ (radians)</field>
    </message>

    <message name="GIMBAL_CONTROL" id="201">
        <description>Control message for rate gimbal</description>
        <field type="uint8_t" name="target_system">System ID</field>
        <field type="uint8_t" name="target_component">Component ID</field>
        <field type="float" name="demanded_rate_x">Demanded angular rate X (rad/s)</field>
        <field type="float" name="demanded_rate_y">Demanded angular rate Y (rad/s)</field>
        <field type="float" name="demanded_rate_z">Demanded angular rate Z (rad/s)</field>
    </message>

    <message name="GIMBAL_TORQUE_CMD_REPORT" id="214">
        <description>
            100 Hz gimbal torque command telemetry
        </description>
        <field name="target_system" type="uint8_t">System ID</field>
        <field name="target_component" type="uint8_t">Component ID</field>
        <field name="rl_torque_cmd" type="int16_t">Roll Torque Command</field>
        <field name="el_torque_cmd" type="int16_t">Elevation Torque Command</field>
        <field name="az_torque_cmd" type="int16_t">Azimuth Torque Command</field>
    </message>

    <!-- GoPro Messages -->
    <message name="GOPRO_HEARTBEAT" id="215">
      <description>Heartbeat from a HeroBus attached GoPro</description>
      <field name="status" type="uint8_t" enum="GOPRO_HEARTBEAT_STATUS">Status</field>
      <field name="capture_mode" type="uint8_t" enum="GOPRO_CAPTURE_MODE">Current capture mode</field>
      <field name="flags" type="uint8_t">additional status bits</field> <!-- see GOPRO_HEARTBEAT_FLAGS -->
    </message>
    <message name="GOPRO_GET_REQUEST" id="216">
      <description>Request a GOPRO_COMMAND response from the GoPro</description>
      <field name="target_system" type="uint8_t">System ID</field>
      <field name="target_component" type="uint8_t">Component ID</field>
      <field name="cmd_id" type="uint8_t" enum="GOPRO_COMMAND">Command ID</field>
    </message>
    <message name="GOPRO_GET_RESPONSE" id="217">
      <description>Response from a GOPRO_COMMAND get request</description>
      <field name="cmd_id" type="uint8_t" enum="GOPRO_COMMAND">Command ID</field>
      <field name="status" type="uint8_t" enum="GOPRO_REQUEST_STATUS">Status</field>
      <field name="value" type="uint8_t[4]">Value</field>
    </message>
    <message name="GOPRO_SET_REQUEST" id="218">
      <description>Request to set a GOPRO_COMMAND with a desired</description>
      <field name="target_system" type="uint8_t">System ID</field>
      <field name="target_component" type="uint8_t">Component ID</field>
      <field name="cmd_id" type="uint8_t" enum="GOPRO_COMMAND">Command ID</field>
      <field name="value" type="uint8_t[4]">Value</field>
    </message>
    <message name="GOPRO_SET_RESPONSE" id="219">
      <description>Response from a GOPRO_COMMAND set request</description>
      <field name="cmd_id" type="uint8_t" enum="GOPRO_COMMAND">Command ID</field>
      <field name="status" type="uint8_t" enum="GOPRO_REQUEST_STATUS">Status</field>
    </message>

    <!-- 219 to 224 RESERVED for more GOPRO-->
    <message name="GPS_ACCURACY" id="225">
        <description>Accuracy statistics for GPS lock</description>
        <field type="uint8_t" name="instance">Which instance of GPS we're reporting on</field>
        <field type="float" name="h_acc">GPS-reported horizontal accuracy</field>
        <field type="float" name="s_acc">GPS-reported speed accuracy</field>
        <field type="float" name="h_vel_filt">GPS-reported, filtered horizontal velocity</field>
        <field type="float" name="v_vel_filt">GPS-reported, filtered vertical velocity</field>
        <field type="float" name="p_drift">GPS position drift</field>
        <field type="uint8_t" name="ekf_check_mask">Which fields pass EKF checks</field>
    </message>
		
	</messages>
</mavlink>
